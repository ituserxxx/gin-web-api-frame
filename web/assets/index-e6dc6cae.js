import{d as T,P as h,m as N,o as u,c as m,e,f as l,w as i,g as d,t as a,M as p,G as y,u as r,S,Q as D,F as V,k as w,a as C,H as $,b as k}from"./index-5d168430.js";const I={class:"dispos-card"},M={key:0,class:"content"},P={key:1,class:"content"},A=T({__name:"DisposCard",props:{cardName:h.string,item:h.object},emits:["callback"],setup(t,{emit:o}){const{actions:s}=N(["setting"]);function v(){o("callback")}return(g,n)=>(u(),m(V,null,[e("div",I,[l(S,null,{title:i(()=>[d(a(t.cardName==="mqtt"?"MQTT":"HTTP")+"配置",1)]),tag:i(()=>[e("div",{class:"status-tag",style:p({backgroundColor:t.item.status===1?"#0DC55D":"#F53A4E"})},a(t.item.status===1?"启用":"禁用"),5),t.cardName==="mqtt"?(u(),m("div",{key:0,class:"status-tag",style:p({backgroundColor:t.item.connect===1?"#0DC55D":"#F53A4E"})},a(t.item.connect===1?"已连接":"未连接"),5)):y("",!0)]),tips:i(()=>[d(a(t.cardName==="mqtt"?"设备连接、实时数据推送":"老化记录同步"),1)]),button:i(()=>[e("div",{class:"button",onClick:n[0]||(n[0]=c=>r(s).handleSetting())},"配置")]),content:i(()=>[t.cardName==="mqtt"?(u(),m("div",M,[e("div",null,"消息质量： "+a(t.item.message_quality||"--"),1),e("div",null,"服务器地址："+a(t.item.server_address||"--"),1),e("div",null,"端口号："+a(t.item.port||"--"),1),e("div",null,"账号："+a(t.item.account||"--"),1),e("div",null,"密码："+a(t.item.password===""?"--":Array.from({length:t.item.password&&t.item.password.length||0},()=>"*").join("")),1),e("div",null,[d("Publish Topic： "),e("div",null,a(t.item.publish_topic||"--"),1)]),e("div",null,[d("Subscribe Topic： "),e("div",null,a(t.item.subscribe_topic||"--"),1)]),e("div",null,"Clientid："+a(t.item.client_id||"--"),1),e("div",null,"上传周期："+a(t.item.upload_cycle||"--"),1)])):y("",!0),t.cardName==="http"?(u(),m("div",P,[e("div",null,"服务器地址："+a(t.item.server_address||"--"),1),e("div",null,"端口号："+a(t.item.port||"--"),1)])):y("",!0)]),default:i(()=>[d(a(t.item)+" ",1)]),_:1})]),l(D,{modelValue:r(s).showSetting,"onUpdate:modelValue":n[1]||(n[1]=c=>r(s).showSetting=c),name:"item.name",item:t.item,onCallback:v,"card-name":`${t.cardName==="mqtt"?"MQTT":"HTTP"}`},null,8,["modelValue","item","card-name"])],64))}});const q=w(A,[["__scopeId","data-v-ec200c1f"]]),F={class:"service"},H={class:"content"},L=T({__name:"index",setup(t){const o=C({status:0,connect:0,message_quality:"",server_address:"",port:"",account:"",password:"",publish_topic:"",subscribe_topic:"",client_id:"",upload_cycle:""}),s=C({status:0,connect:0,message_quality:"",server_address:"",port:"",account:"",password:"",publish_topic:"",subscribe_topic:"",client_id:"",upload_cycle:""});function v(){o.value={status:0,connect:0,message_quality:"",server_address:"",port:"",account:"",password:"",publish_topic:"",subscribe_topic:"",client_id:"",upload_cycle:""}}function g(){s.value={status:0,connect:0,message_quality:"",server_address:"",port:"",account:"",password:"",publish_topic:"",subscribe_topic:"",client_id:"",upload_cycle:""}}const{getUServerList:n}=$(["getUServerList"]);function c(){n().then(_=>{if(_.code===200)if(Object.keys(_.data).length!==0){const{mqtt:f,http:b}=_.data;f?o.value=f:v(),b?s.value=b:g()}else v(),g()})}return c(),(_,f)=>{const b=k("title-tag"),x=k("card-content");return u(),m("div",F,[l(b,{title:"云服务"}),e("div",H,[l(x,null,{default:i(()=>[l(q,{"card-name":"mqtt",item:r(o),onCallback:c},null,8,["item"]),l(q,{"card-name":"http",item:r(s),onCallback:c},null,8,["item"])]),_:1})])])}}});const B=w(L,[["__scopeId","data-v-02668a75"]]);export{B as default};
